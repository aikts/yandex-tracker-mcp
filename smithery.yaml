runtime: "container"
startCommand:
  type: "http"
  configSchema:
    type: "object"
    properties:
      trackerToken:
        type: "string"
        description: "Yandex Tracker token"
      cloudOrgId:
        type: "string"
        description: "Yandex Cloud Org Id"
      orgId:
        type: "string"
        description: "Yandex 360 Org Id"
      port:
        type: number
        default: 8000
        description: Port on which the server runs (if applicable)
    required: ["trackerToken"]
  exampleConfig:
    trackerToken: "some-tracker-token"
    cloudOrgId: "someCloudOrgId"
  commandFunction: |
    (config) => ({
      "command": "python",
      "args": ["-m", "mcp_tracker"],
      "env": {
        "TRANSPORT": "streamable-http",
        "TRACKER_TOKEN": config.trackerToken,
        "TRACKER_CLOUD_ORG_ID": config.cloudOrgId || "",
        "TRACKER_ORG_ID": config.orgId || "",
        "PORT": String(config.port)
      }
    })
build:
  dockerfile: "smitherly.Dockerfile"
  dockerBuildPath: "."
